# Анализатор логов ADS-B

## Описание
Программа для парсинга, анализа и визуализации логов ADS-B. После обработки файла программа выводит в консоль сводную таблицу по всем бортам и запускает окно с интерактивными графиками для детального анализа.

---
## Описание работы
При запуске программа обрабатывает указанный файл логов и выводит в терминал сводную таблицу. Сразу после этого открывается окно с графиками для первого борта из списка.

Таблица в консоли содержит следующую информацию:
* **ICAO** — уникальный адрес самолета
* **Номер рейса** — позывной борта, если он был передан
* **Первое (UTC)** и **Последнее (UTC)** — время первого и последнего появления борта в файле с точностью до наносекунд
* **Координаты**, **Курс**, **Выб. высота**, **Гео. высота**, **Барокорр.**, **GNSS** — флаги наличия данных.

После обработки данных открывается окно с графиками параметров полета:
* **Высота** — барометрическая и выбранная пилотом (в футах)
* **Скорость** — путевая скорость (в узлах)
* **Высота и скорость**
* **Разница высот** — разница между барометрической и геометрической высотами
* **Барокоррекция** — атмосферное давление (в гПа)
* **Координаты** — широта и долгота для построения трека
* **Курс** — направление движения борта (в градусах)
* **Схема трека полета** (долгота/широта), отрисованная точками
* **Схема трека по сообщениям TC 19** (долгота/широта), отрисованная точками, соответствующими скоростным сообщениям
* **Трек с наложением линии путевого угла** (долгота/широта) — траектория полета с векторной линией путевого угла, вычисленного по данным скорости относительно земли
* **Трек с ориентацией самолета** (долгота/широта) — траектория с наложением вектора магнитного курса, полученного из сообщений TC-19 подтипа 3

Также строятся гистограммы промежутков времени по каждому типу сквиттеров:
* **REG 05** — местоположение в воздухе
* **REG 06** — местоположение на земле при высокой и низкой частотах
* **REG 08** — опознавательный код и категория
* **REG 09** — скорость при нахождении в воздухе
* **REG 61** — статус воздушного судна:
    - *нормальный статус* - обычная передача статуса самолета
    - *сигнал бедствия*
    - *смена Mode A* - изменение 4-значного кода (Squawk), назначенного диспетчером
    - *TCAS RA* - статус экстренного маневра для предотвращения столкновения
* **REG 62** — состояние и статус цели
* **REG 65** — эксплуатационный статус воздушного судна в полете и на земле
* **DF 11** — опознавание воздушного судна


В окне с графиками и гистограммами пользователь может интерактивно управлять просмотром:
* **Кнопки "Пред. борт" / "След. борт"** (или стрелки **←** / **→**) — переключение между самолетами.
* **Кнопки "Пред. график" / "След. график"** (или стрелки **↓** / **↑**) — переключение между типами графиков для текущего самолета.
* **Колесо мыши** — масштабирование графика по вертикальной оси.

---
## Как использовать

1.  Убедиться, что установлен Python 3 версии.

2.  Установить все необходимые библиотеки. Для Windows и Linux команды различаются.

    * **Windows:**
        Открыть терминал (CMD или PowerShell) и выполнить команду:
        ```bash
        pip install numpy pyModeS matplotlib
        ```

    * **Linux (Ubuntu/Debian):**
        Рекомендуется использовать виртуальное окружение (`venv`).

        а) **Установить системные зависимости:**
        ```bash
        sudo apt update && sudo apt install python3-tk python3-venv
        ```

        б) **Создать и активировать виртуальное окружение** (в папке с проектом):
        ```bash
        # Создание
        python3 -m venv venv
        
        # Активация
        source venv/bin/activate
        ```
        *После активации в терминале появится префикс `(venv)`.*

        в) **Установить Python-библиотеки** (в активном окружении):
        ```bash
        pip install numpy pyModeS matplotlib
        ```
        *Примечание: для каждой новой сессии терминала окружение нужно активировать заново.*

3.  Запустить программу в терминале.

    * **Запуск с файлом по умолчанию:**
        ```bash
        python3 main.py
        ```

    * **Указание другого файла логов:**
        ```bash
        python3 main.py -f "путь к файлу с ADS-B данными"
        ```

    * **Фильтрация данных по одному борту:**
        ```bash
        python3 main.py -a "номер борта"
        ```
